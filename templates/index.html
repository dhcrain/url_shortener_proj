{% extends 'base.html' %}

{% block title %}Short it up{% endblock %}

{% block content %}
    <h1>Short it up!</h1>
    <hr>
    <h2>All Saved Bookmarks</h2>
    <table class="table table-condensed">
        <tr>
            <th>Title</th>
            <th>Original Link</th>
            <th>Short Link</th>
            <th>Click Hist</th>
        </tr>
    {% for mark in object_list %}
        <tr>
            <td>{{ mark.title }}</td>
            <td><a href="{% url 'forward_view' mark.hash_id %}" target="_blank" >{{ mark.url }}</a></td>
            <td><input type="text" value="{{ request.get_host }}{% url 'forward_view' mark.hash_id %}"></td>
            <td><a href="{% url 'click_view' mark.id %}">{{ mark.count }}</a></td>
        </tr>
    {% endfor %}
    </table>

{#    https://docs.djangoproject.com/en/1.9/topics/class-based-views/mixins/#using-singleobjectmixin-with-listview#}
    <nav>
        <ul class="pager">
            {% if page_obj.has_previous %}
                <li><a href="?page={{ page_obj.previous_page_number }}">Previous</a></li>
            {% endif %}
            <li>Page {{ page_obj.number }} of {{ paginator.num_pages }}</li>
            {% if page_obj.has_next %}
                <li><a href="?page={{ page_obj.next_page_number }}">Next</a></li>
            {% endif %}
        </ul>
    </nav>
    {% endblock %}

